<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./style.css">
    <!-- seo -->
    <meta name="description" content="Litalico Wonder Tamaplaza Tama-share-2024">
    <meta name="keywords" content="litalico wonder tamaplaza リタリコワンダー たまプラーザ たまシェア">
    <meta name="author" content="Yamashita Manato(https://manapuraza.com)">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@YamashitaMa_tcu">
    <meta name="twitter:creator" content="@YamashitaMa_tcu">
    <meta property="og:url" content="https://tama-share2024.vercel.app/">
    <meta property="og:title" content="LITALICO Wonder Tamaplaza TAMA-share 2024">
    <meta property="og:description" content="リタリコワンダー たまプラーザ たまシェア 2024">
    <meta property="og:image" content="./img/poster.jpg">
    <meta property="og:site_name" content="LITALICO Wonder Tamaplaza TAMA-share 2024">
    <meta property="og:locale" content="ja_JP">
    <meta property="og:type" content="website">
    <link rel="apple-touch-icon" sizes="180x180" href="./img/poster.jpg">
    <link rel="icon" type="image/png" sizes="32x32" href="./img/poster.jpg">
    <link rel="icon" type="image/png" sizes="16x16" href="./img/poster.jpg">
    <link rel="manifest" href="./img/poster.jpg">
    <link rel="mask-icon" href="./img/poster.jpg" color="#5bbad5">
    <link rel="shortcut icon" href="./img/poster.jpg">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="msapplication-config" content="./img/poster.jpg">
    <meta name="theme-color" content="#ffffff">
    <!-- <script src="./main.js"></script> 意味のないJSファイル-->
    <!-- Font install (VDL-logoJrBlack) -->
    <script>
        (function(d) {
          let config = {
            kitId: 'xku0nxz',
            scriptTimeout: 3000,
            async: true
          },
          h=d.documentElement,t=setTimeout(function(){h.className=h.className.replace(/\bwf-loading\b/g,"")+" wf-inactive";},config.scriptTimeout),tk=d.createElement("script"),f=false,s=d.getElementsByTagName("script")[0],a;h.className+=" wf-loading";tk.src='https://use.typekit.net/'+config.kitId+'.js';tk.async=true;tk.onload=tk.onreadystatechange=function(){a=this.readyState;if(f||a&&a!="complete"&&a!="loaded")return;f=true;clearTimeout(t);try{Typekit.load(config)}catch(e){}};s.parentNode.insertBefore(tk,s)
        })(document);
    </script>
    <title>LITALICO Wonder Tamaplz TAMA-share 2024</title>
</head>
<body>
    <main style="overflow: hidden;" id="main" class="main">
        <div class="layer back">
            <video id="myvideo" autoplay muted loop>
                <source src="./img/back.mp4" type="video/mp4">
                Your browser does not support the video tag（something error occured）.
            </video>
            <img id="backgroundImage" src="./img/litalicowonder-tamashare2024.gif" alt="back" style="display: none;">
        </div>
        <div class="layer type-mask"><img id="mask-img" src="./img/20240331.png" alt="mask"></div>
        <div class="layer myGifContainer" alt="gif-image" id="myGifContainer"><img src="#" id="kobushi" alt="kobushi-img"></div>
        <div class="layer button">
            <p style="font-size: small; color: rgb(175, 175, 175);" id="message"></p>
            <button id="btn" class="btn" onclick="handleClick()">
                Press the button!<br>
            </button>
        </div>
        <div class="layer top" style="display: none;">
            <div id="content"></div>
        </div>
    </main>
</body>
<script>
    // イベントリスナーを設定
    const button = document.querySelector('.btn');
    const mask = document.querySelector('.type-mask');
    let voice, voice2, bgm = "";
    if (window.innerWidth < 450) {
        button.style.display = "none";
        const me = document.getElementById("message");
        me.innerHTML = "※画面を横にしてください。（横画面に変更したらリロードしてください。）";
    }
    else {
        button.style.display = "block";
        const me = document.getElementById("message");
        me.innerHTML = "※音が流れます。(スマートフォンは画面を横にしてください)";
    }
    function handleClick() {
        button.style.transition = 'opacity 0.5s ease-out';
        button.style.opacity = '0';
        button.addEventListener('transitionend', handleTransitionEnd);
        const me = document.getElementById("message");
        me.remove();
    }

    function handleTransitionEnd() {
        button.remove();
        mask.style.transition = 'transform 1s cubic-bezier(.76,-0.01,.82,.35)';
        mask.style.transform = 'translateX(-100%)';
        mask.addEventListener('transitionend', handleTransitionEnd2);
    }
    function handleTransitionEnd2() {
        mask.remove();
        // ボタンが押されてから3秒後にgif画像を表示
        setTimeout(function() {
            // GIF画像を画面いっぱいに表示する
            const myGifContainer = document.getElementById("myGifContainer");
            myGifContainer.style.backgroundImage = "url('./img/kobushi.gif')";
            myGifContainer.style.display = "block";
            voice2 = "演出";
            const audio = new Audio('./se/effect.mp3');
            audio.play();
        }, 1000);

        setTimeout(function() {
            myGifContainer.style.backgroundImage = "url('./img/kobushied.png')";
            // videoのsrcを消す
            const myvideo = document.getElementById("myvideo");
            myvideo.src = "";
            // imgタグのdiscplayを表示する
            const img = document.getElementById("backgroundImage");
            img.style.display = "block";
            img.style.width = "100%";
            img.style.height = "100%";
            // divタグのdisplayを表示する
            const top = document.querySelector('.top');
            top.style.display = "block";
            top.style.transition = 'opacity 1s ease-out';
            top.style.opacity = '1';
            top.style.width = "100%";

            const random = Math.floor(Math.random() * 2);
            if (random === 0) {
                voice = "つむぎ"
                const audio = new Audio('./se/01_tsumugi.wav');
                audio.play();
            } else if (random === 1) {
                voice = "ずんだ"
                const audio = new Audio('./se/02_zunda.wav');
                audio.play();
            } else {
                voice = "俺"
                const audio = new Audio('./se/03_ore.m4a');
                audio.play();
            }

            const rondom2 = Math.floor(Math.random() * 2);
            if (random2 === 0) {
                voice = "ロール"
                const audio = new Audio('./se/e01_rolle.mp3');
                audio.play();
            } else if (random2 === 1) {
                voice = "砂金"
                const audio = new Audio('./se/e02_shakin.mp3');
                audio.play();
            } else {
                voice = "爆発"
                const audio = new Audio('./se/e03_boom.mp3');
                audio.play();
            }

            const content = document.getElementById('content');
        }, 3900);
    }

    function playSound() {
            voice = "ボタン";
            const audio = new Audio('./se/btn.mp3');
            audio.play();
    };
    const playButton = document.getElementById('btn');
    playButton.addEventListener('click', playSound);
</script>
</html>